(window.webpackJsonp=window.webpackJsonp||[]).push([[12,8,11,17],{123:function(e,t,n){e.exports=n.p+"img/Lightning.795a69f.svg"},124:function(e,t,n){e.exports=n.p+"img/BTC.c9f3346.svg"},125:function(e,t,n){e.exports=n.p+"img/XMR.45ccc83.svg"},126:function(e,t,n){"use strict";n.r(t);var r=n(2),o={props:{address:"",currency:"",paymentHash:""},methods:{close(){this.$emit("close")},checkLightningPayment(){var e=new Headers;e.append("X-Api-Key","d97307f305d24dc2944fa397a21c6421");var t={method:"GET",headers:e,redirect:"follow"};fetch("https://lnbits.com/api/v1/payments/".concat(this.paymentHash),t).then((e=>{e.ok?e.json().then((e=>{console.log(e),e.paid&&(this.success=!0,clearInterval(this.checkLightningPayment))})).catch((e=>{console.log("error",e)})):console.log(e)})).catch((e=>{console.log(e)}))}},data:()=>({qrCode:null,success:!1}),mounted(){var e=this;return Object(r.a)((function*(){var t=n(135);e.qrCode=new t({width:300,height:300,margin:10,type:"svg",data:e.address,image:n(127)("./".concat(e.currency,".svg")),dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"}}),e.qrCode.append(e.$refs.canvas),e.paymentHash&&setInterval(e.checkLightningPayment,5e3)}))()}},l=n(4),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n    modal\n    h-screen\n    w-full\n    fixed\n    left-0\n    top-0\n    flex\n    justify-center\n    items-center\n    bg-black bg-opacity-50\n    z-50\n    dark:bg-gray-500\n    dark:bg-opacity-70\n  "},[n("div",{staticClass:"\n      bg-white\n      rounded\n      shadow-lg\n      w-10/12\n      lg:w-1/3\n      flex flex-col\n      justify-center\n      items-center\n      dark:bg-gray-800\n    "},[e.success?n("div",{staticClass:"flex justify-center items-center flex-col"},[n("h1",{staticClass:"text-lg font-semibold text-center text-green-600 mt-5 dark:text-green-400"},[e._v("\n        Payment received, thank you.\n      ")]),e._v(" "),n("CheckIcon",{staticClass:"w-64 h-64 text-green-500 dark:text-green-300"})],1):n("div",{staticClass:"flex justify-center items-center flex-col"},[n("div",{ref:"canvas",staticClass:"px-10 py-5 cursor-pointer",attrs:{id:"canvas-"+e.currency},on:{click:function(t){return e.qrCode.download({name:"qr",extension:"png"})}}}),e._v(" "),n("div",{staticClass:"text-center select-all break-all px-10 text-xs dark:text-white"},[e._v("\n        "+e._s(e.address)+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex justify-center items-center w-100 p-10"},[n("button",{staticClass:"\n          bg-blue-600\n          hover:bg-blue-700\n          px-3\n          py-1\n          px-2\n          rounded\n          text-white\n        ",on:{click:e.close}},[e._v("\n        Close\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CheckIcon:n(129).default})},127:function(e,t,n){var map={"./BTC.svg":124,"./Lightning.svg":123,"./XMR.svg":125,"./fluent_checkmark-lock-24-regular.svg":128};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=127},128:function(e,t,n){e.exports=n.p+"img/fluent_checkmark-lock-24-regular.c3d6dea.svg"},129:function(e,t,n){"use strict";n.r(t);var r={},o=n(4),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[t("path",{attrs:{fill:"currentColor",d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"}})])}),[],!1,null,null,null);t.default=component.exports},132:function(e,t,n){"use strict";var r=n(41),o=n(25),l=n(6),c=n(77),d=n(133);r(r.P+r.R,"Promise",{finally:function(e){var t=c(this,o.Promise||l.Promise),n="function"==typeof e;return this.then(n?function(n){return d(t,e()).then((function(){return n}))}:e,n?function(n){return d(t,e()).then((function(){throw n}))}:e)}})},133:function(e,t,n){var r=n(5),o=n(11),l=n(134);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=l.f(e);return(0,n.resolve)(t),n.promise}},134:function(e,t,n){"use strict";var r=n(56);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},143:function(e,t,n){"use strict";n.r(t);n(132);var r={data:()=>({loading:!1,memo:"",amount:null,error:""}),methods:{submit(){if(this.error="",!Number(this.amount)||Number(this.amount)<10)this.error="Amount cannot be less than 10 satoshis";else{this.loading=!0;var e=new Headers;e.append("X-Api-Key","d97307f305d24dc2944fa397a21c6421"),e.append("Content-Type","application/json");var t=JSON.stringify({out:!1,amount:Number(this.amount),memo:this.memo||"UnFile.io Donation"});fetch("https://legend.lnbits.com/api/v1/payments",{method:"POST",headers:e,body:t,redirect:"follow"}).then((e=>{e.ok?e.json().then((e=>{console.log(e),e&&this.$emit("ok",e)})).catch((e=>{console.log("error",e),this.error="".concat(e)})).finally((()=>{this.loading=!1})):e.text().then((e=>{this.error="".concat(e),this.loading=!1}))})).catch((e=>{console.log(e),this.error="".concat(e),this.loading=!1}))}},close(){this.$emit("close")}}},o=n(4),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n    modal\n    h-screen\n    w-full\n    fixed\n    left-0\n    top-0\n    flex\n    justify-center\n    items-center\n    bg-black bg-opacity-50\n    z-50\n    dark:bg-gray-500 dark:bg-opacity-70\n  "},[n("div",{staticClass:"\n      bg-white\n      rounded\n      shadow-lg\n      w-10/12\n      md:w-1/3\n      flex flex-col\n      justify-center\n      items-center\n      py-5\n      dark:bg-gray-800\n    "},[n("div",{staticClass:"px-10 py-5 flex flex-col justify-center items-start"},[n("label",{staticClass:"dark:text-gray-200",attrs:{for:"amount"}},[e._v("Amount (SAT)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"\n          text-base\n          p-2\n          border border-gray-300\n          rounded-lg\n          focus:outline-none focus:border-indigo-500\n          outline-none\n          mb-5\n          dark:bg-gray-800 dark:border-gray-500 dark:text-white\n        ",attrs:{type:"number",name:"amount",id:"amount",min:"10",placeholder:"min 10 satoshis"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),e._v(" "),n("label",{staticClass:"dark:text-gray-200",attrs:{for:"memo"}},[e._v("Memo")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.memo,expression:"memo"}],staticClass:"\n          text-base\n          p-2\n          border border-gray-300\n          rounded-lg\n          focus:outline-none focus:border-indigo-500\n          outline-none\n          dark:bg-gray-800 dark:border-gray-500 dark:text-white\n        ",attrs:{type:"text",placeholder:"optional note",id:"memo",name:"memo"},domProps:{value:e.memo},on:{input:function(t){t.target.composing||(e.memo=t.target.value)}}})]),e._v(" "),e.error?n("p",{staticClass:"text-red-600 p-4 text-center dark:text-red-500"},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),e.error?n("p",{staticClass:"dark:text-white p-4 text-center"},[e._v("\n      Could not generate invoice, please use this external link instead"),n("br"),n("a",{staticClass:"text-blue-500 dark:text-blue-300",attrs:{href:"https://legend.lnbits.com/tipjar/59",target:"_external"}},[e._v("https://legend.lnbits.com/tipjar/59")])]):e._e(),e._v(" "),n("div",{staticClass:"flex justify-around items-center w-full p-5"},[e.loading?n("Spinner",{staticClass:"h-1 w-1"}):n("button",{staticClass:"\n          bg-purple-600\n          hover:bg-purple-700\n          px-4\n          py-2\n          rounded-lg\n          text-white\n          border-2 border-purple-600\n        ",on:{click:e.submit}},[e._v("\n        Generate Invoice\n      ")]),e._v(" "),n("button",{staticClass:"\n          hover:bg-red-600 hover:text-white\n          px-4\n          py-2\n          rounded-lg\n          text-red-600\n          border-2 border-red-600\n          dark:text-red-500 dark:border-red-500 dark:hover:bg-red-500\n        ",on:{click:e.close}},[e._v("\n        Close\n      ")])],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:n(76).default})},149:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"\n        bg-white\n        w-14\n        h-8\n        rounded-full\n        border-2 border-white\n        flex\n        items-center\n        justify-center\n      "},[t("img",{attrs:{src:n(123)}})])}],o={data:()=>({lightning:!1,lightningQr:!1,payment_hash:null}),methods:{initInvoice(data){this.lightning=!1,this.lightningQr=data.payment_request,this.payment_hash=data.payment_hash}}},l=n(4),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"\n      m-3\n      border-2 border-purple-600\n      text-purple-600\n      px-3\n      py-2\n      rounded-lg\n      font-semibold\n      text-lg\n      focus:outline-none\n      focus:shadow-outline\n      hover:bg-purple-600\n      hover:border-purple-600\n      hover:text-white\n      shadow-lg\n      cursor-pointer\n      transition\n      ease-in\n      duration-300\n      flex flex-wrap\n      justify-center\n      items-center\n    ",on:{click:function(t){e.lightning=!0}}},[e._v("\n    Bitcoin Lightning Network "),e._m(0)]),e._v(" "),e.lightning?n("LightningCheckout",{on:{ok:e.initInvoice,close:function(t){e.lightning=!1}}}):e._e(),e._v(" "),e.lightningQr?n("PaymentModal",{key:"lightning",attrs:{address:e.lightningQr,currency:"Lightning",paymentHash:e.payment_hash},on:{close:function(t){e.lightningQr=!1}}}):e._e()],1)}),r,!1,null,null,null);t.default=component.exports;installComponents(component,{LightningCheckout:n(143).default,PaymentModal:n(126).default})}}]);