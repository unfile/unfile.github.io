(window.webpackJsonp=window.webpackJsonp||[]).push([[18,7,10,12,14,16],{187:function(t,e,n){t.exports=n.p+"img/BTC.c9f3346.svg"},188:function(t,e,n){t.exports=n.p+"img/XMR.45ccc83.svg"},189:function(t,e,n){var content=n(210);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("557b3900",content,!0,{sourceMap:!1})},190:function(t,e,n){var map={"./BTC.svg":187,"./XMR.svg":188,"./fluent_checkmark-lock-24-regular.svg":194};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=190},194:function(t,e,n){t.exports=n.p+"img/fluent_checkmark-lock-24-regular.c3d6dea.svg"},209:function(t,e,n){"use strict";n(189)},210:function(t,e,n){var r=n(38)((function(i){return i[1]}));r.push([t.i,"/*purgecss start ignore*/\n.text-shadow{\n  text-shadow:0 0 3px #000\n}\n\n/*purgecss end ignore*/",""]),r.locals={},t.exports=r},213:function(t,e,n){"use strict";n.r(e);var r=n(3),o={props:{address:"",currency:""},methods:{close(){this.$emit("close")}},data:()=>({qrCode:null}),mounted(){var t=this;return Object(r.a)((function*(){var e=n(237);t.qrCode=new e({width:300,height:300,margin:10,type:"svg",data:t.address,image:n(190)("./".concat(t.currency,".svg")),dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"}}),t.qrCode.append(t.$refs.canvas)}))()}},l=n(8),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"\n    modal\n    h-screen\n    w-full\n    fixed\n    left-0\n    top-0\n    flex\n    justify-center\n    items-center\n    bg-black bg-opacity-50\n    z-1000\n  "},[n("div",{staticClass:"\n      bg-white\n      rounded\n      shadow-lg\n      w-10/12\n      md:w-1/3\n      flex flex-col\n      justify-center\n      items-center\n    "},[n("div",{ref:"canvas",staticClass:"px-10 py-5 cursor-pointer",attrs:{id:"canvas-"+t.currency},on:{click:function(e){return t.qrCode.download({name:"qr",extension:"png"})}}}),t._v(" "),n("div",{staticClass:"text-center select-all break-all px-10 text-sm"},[t._v(t._s(t.address))]),t._v(" "),n("div",{staticClass:"flex justify-center items-center w-100 p-10"},[n("button",{staticClass:"\n          bg-blue-600\n          hover:bg-blue-700\n          px-3\n          py-1\n          px-2\n          rounded\n          text-white\n        ",on:{click:t.close}},[t._v("\n        Close\n      ")])])])])}),[],!1,null,null,null);e.default=component.exports},214:function(t,e,n){"use strict";n.r(e);var r={props:{pct:{type:Number,default:0}}},o=(n(209),n(8)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"\n    w-full\n    bg-gray-100\n    rounded-full\n    overflow-hidden\n    shadow-inner\n    h-6\n  "},[n("div",{staticClass:"bg-blue-400 text-xs leading-none py-3 text-center",style:"width: "+t.pct+"%"}),t._v(" "),n("div",{staticClass:"text-center w-full -mt-6 font-semibold text-white text-shadow"},[t._v("\n    "+t._s(t.pct)+"%\n  ")])])}),[],!1,null,null,null);e.default=component.exports},216:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return f}));n(215),n(9),n(13),n(123);var r=Number("34357641216"),o=Number("4244635648");function l(t,path){return"https://".concat(t,".ipfs.dweb.link/").concat(encodeURIComponent(path))}function c(t,e){return new File([JSON.stringify(e)],t,{type:"application/json"})}function d(t){var e,n=t;return t>1e9?(e="GB",n/=1e9):t>1e6?(e="MB",n/=1e6):t>1e3?(e="KB",n/=1e3):e="Bytes","".concat(n.toFixed(2).toLocaleString()," ").concat(e)}function f(t,e){var link=document.createElement("a");link.href=URL.createObjectURL(t),link.download=e||t.name,link.click()}},225:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return y}));var r=n(3),o=(n(9),n(195),n(196),n(197),n(198),{_pattern:/[a-zA-Z0-9\_\-]/,_getRandomByte:function(){if(window.crypto&&window.crypto.getRandomValues){var t=new Uint8Array(1);return window.crypto.getRandomValues(t),t[0]}if(window.msCrypto&&window.msCrypto.getRandomValues){t=new Uint8Array(1);return window.msCrypto.getRandomValues(t),t[0]}return Math.floor(256*Math.random())},generate:function(t){return Array.apply(null,{length:t}).map((function(){for(var t;;)if(t=String.fromCharCode(this._getRandomByte()),this._pattern.test(t))return t}),this).join("")}}),l=t=>window.crypto.subtle.importKey("raw",new TextEncoder("utf-8").encode(t),"PBKDF2",!1,["deriveKey"]),c=(t,e,n)=>window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:25e4,hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,n);function d(t,e,n){return f.apply(this,arguments)}function f(){return(f=Object(r.a)((function*(t,e,n){var r=window.crypto.getRandomValues(new Uint8Array(16)),d=window.crypto.getRandomValues(new Uint8Array(12)),f=yield l(e),y=yield c(f,r,["encrypt"]),data=yield t.arrayBuffer(),h=yield window.crypto.subtle.encrypt({name:"AES-GCM",iv:d},y,data),v=new Uint8Array(h),m=new Uint8Array(r.byteLength+d.byteLength+v.byteLength);m.set(r,0),m.set(d,r.byteLength),m.set(v,r.byteLength+d.byteLength);var w=n?t.name:o.generate(10);return{file:new File([m],w+".enc",{type:t.type}),originalName:t.fullPath||t.name}}))).apply(this,arguments)}function y(t,e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)((function*(t,e){var n=yield t.arrayBuffer(),r=n.slice(0,16),o=n.slice(16,28),data=n.slice(28),d=yield l(e),f=yield c(d,r,["decrypt"]),y=yield window.crypto.subtle.decrypt({name:"AES-GCM",iv:o},f,data);return new Blob([y])}))).apply(this,arguments)}},226:function(t,e,n){"use strict";n.r(e);var r={props:{message:{type:String},title:{type:String,default:""}},methods:{okClicked(){this.$emit("ok")},close(){this.$emit("close")}}},o=n(8),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"\n    modal\n    h-screen\n    w-full\n    fixed\n    left-0\n    top-0\n    flex\n    justify-center\n    items-center\n    bg-black bg-opacity-50\n    z-1000\n  "},[n("div",{staticClass:"bg-white rounded shadow-lg w-10/12 md:w-1/3"},[t.title?n("div",{staticClass:"px-4 py-2 flex justify-between items-center"},[n("h3",{staticClass:"font-semibold text-lg"},[t._v(t._s(t.title))]),t._v(" "),n("button",{staticClass:"text-black close-modal",on:{click:t.close}},[t._v("âœ—")])]):t._e(),t._v(" "),n("div",{staticClass:"px-10 py-5 break-words"},[t._v("\n      "+t._s(t.message)+"\n    ")]),t._v(" "),n("div",{staticClass:"flex justify-end items-center w-100 px-10 pb-5"},[n("button",{staticClass:"bg-blue-600 hover:bg-blue-700 px-3 py-1 px-2 rounded text-white",on:{click:t.okClicked}},[t._v("\n        Ok\n      ")])])])])}),[],!1,null,null,null);e.default=component.exports},238:function(t,e,n){"use strict";n.r(e);var r={},o=n(8),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{fill:"currentColor",d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}})])}),[],!1,null,null,null);e.default=component.exports},254:function(t,e,n){"use strict";n.d(e,"d",(function(){return B})),n.d(e,"e",(function(){return $})),n.d(e,"b",(function(){return Q})),n.d(e,"a",(function(){return G})),n.d(e,"c",(function(){return X}));var r=n(3),o=n(227),l=(n(9),n(13),n(125),n(215),n(14),n(195),n(196),n(197),n(198),n(24)),c=n(259),d=n(322),f=(n(123),n(52),n(55),n(261)),y=n(262),h=n.n(y),v=n(323),m=n(284),w=n.n(m),x=n(324),C=n(287),j=n(218),_=(n(212),n(288),n(235)),O=globalThis.fetch,k=(globalThis.Request,globalThis.Response,globalThis.Blob),S=globalThis.File,R=_.a;function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M=5;class U{constructor(t){var{token:e,endpoint:n=new URL("https://api.web3.storage")}=t;this.token=e,this.endpoint=n}static headers(t){if(!t)throw new Error("missing token");return{Authorization:"Bearer ".concat(t),"X-Client":"web3.storage"}}static put(t,e){var n=arguments;return Object(r.a)((function*(){var{endpoint:r,token:o}=t,{onRootCidReady:l,onStoredChunk:c,maxRetries:d=M,wrapWithDirectory:f=!0,name:y}=n.length>2&&void 0!==n[2]?n[2]:{},h=new R;try{var{out:m,root:w}=yield Object(v.a)({input:Array.from(e).map((t=>({path:t.name,content:t.stream()}))),blockstore:h,wrapWithDirectory:f,maxChunkSize:1048576,maxChildrenPerNode:1024});l&&l(w.toString());var x=yield j.CarReader.fromIterable(m);return yield U.putCar({endpoint:r,token:o},x,{onStoredChunk:c,maxRetries:d,name:y})}finally{yield h.close()}}))()}static putCar(t,e){var n=arguments;return Object(r.a)((function*(){var{endpoint:l,token:c}=t,{name:d,onStoredChunk:y,maxRetries:v=M,decoders:m}=n.length>2&&void 0!==n[2]?n[2]:{},w=new URL("/car",l),x=U.headers(c);d&&(x=L(L({},x),{},{"X-Name":d}));var j=yield e.getRoots();if(null==j[0])throw new Error("missing root CID");if(j.length>1)throw new Error("too many roots");var _,S=j[0].toString(),R=new C.TreewalkCarSplitter(e,10485760,{decoders:m}),E=function(){var t=Object(r.a)((function*(t){var e,n=[],l=!1,c=!1;try{for(var d,f=Object(o.a)(t);l=!(d=yield f.next()).done;l=!1){var m=d.value;n.push(m)}}catch(t){c=!0,e=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(c)throw e}}var C=new k(n,{type:"application/car"}),j=yield h()(Object(r.a)((function*(){var t=yield O(w.toString(),{method:"POST",headers:x,body:C}),e=yield t.json();if(!t.ok)throw new Error(e.message);if(e.cid!==S)throw new Error("root CID mismatch, expected: ".concat(S,", received: ").concat(e.cid));return e.cid})),{retries:v});return y&&y(C.size),j}));return function(e){return t.apply(this,arguments)}}(),D=Object(f.a)(3,E),N=!1,I=!1;try{for(var T,z=Object(o.a)(D(R.cars()));N=!(T=yield z.next()).done;N=!1)T.value}catch(t){I=!0,_=t}finally{try{N&&null!=z.return&&(yield z.return())}finally{if(I)throw _}}return S}))()}static get(t,e){return Object(r.a)((function*(){var{endpoint:n,token:l}=t,f=new URL("/car/".concat(e),n);return function(t){var e=Object.assign(t,{unixFsIterator:(n=Object(d.a)((function*(){if(!t.ok)throw new Error("Response was not ok: ".concat(t.status," ").concat(t.statusText,' - Check for { "ok": false } on the Response object before calling .unixFsIterator'));if(!t.body)throw new Error("No body on response");var e=new R;try{var n,r=!1,l=!1;try{for(var d,f=Object(o.a)(Object(x.a)(t.body,{blockstore:e}));r=!(d=yield Object(c.a)(f.next())).done;r=!1){var y=d.value;yield y}}catch(t){l=!0,n=t}finally{try{r&&null!=f.return&&(yield Object(c.a)(f.return()))}finally{if(l)throw n}}}finally{yield Object(c.a)(e.close())}})),function(){return n.apply(this,arguments)}),files:function(){var n=Object(r.a)((function*(){if(!t.ok)throw new Error("Response was not ok: ".concat(t.status," ").concat(t.statusText,' - Check for { "ok": false } on the Response object before calling .files'));var n,r=[],l=!1,c=!1;try{for(var d,f=Object(o.a)(e.unixFsIterator());l=!(d=yield f.next()).done;l=!1){var y=d.value;if("directory"!==y.type){var h=yield D(y);r.push(h)}}}catch(t){c=!0,n=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(c)throw n}}return r}));function l(){return n.apply(this,arguments)}return l}()});var n;return e}(yield O(f.toString(),{method:"GET",headers:U.headers(l)}))}))()}static delete(t,e){return Object(r.a)((function*(){var{endpoint:n,token:r}=t;throw console.log("Not deleting",e,n,r),Error(".delete not implemented yet")}))()}static status(t,e){return Object(r.a)((function*(){var{endpoint:n,token:r}=t,o=new URL("/status/".concat(e),n),l=yield O(o.toString(),{method:"GET",headers:U.headers(r)});if(404!==l.status){if(!l.ok)throw new Error(l.statusText);return l.json()}}))()}static list(t){var{before:e=(new Date).toISOString(),maxResults:n=1/0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(d.a)((function*(){var r,l=0,d=n>100?100:n,f=!1,y=!1;try{for(var h,v=Object(o.a)(function(t,e,n){return T.apply(this,arguments)}((function(t,e){var{endpoint:n,token:r}=t,{before:o,size:l}=e,c=new URLSearchParams({before:o,size:l.toString()}),d=new URL("/user/uploads?".concat(c),n);return O(d.toString(),{method:"GET",headers:L(L({},U.headers(r)),{},{"Access-Control-Request-Headers":"Link"})})}),t,{before:e,size:d}));f=!(h=yield Object(c.a)(v.next())).done;f=!1){var m=h.value;if(!m.ok)throw new Error("".concat(m.status," ").concat(m.statusText));var w=yield Object(c.a)(m.json());for(var x of w){if(++l>n)return;yield x}}}catch(t){y=!0,r=t}finally{try{f&&null!=v.return&&(yield Object(c.a)(v.return()))}finally{if(y)throw r}}}))()}put(t,e){return U.put(this,t,e)}putCar(t,e){return U.putCar(this,t,e)}get(t){return U.get(this,t)}delete(t){return U.delete(this,t)}status(t){return U.status(this,t)}list(t){return U.list(this,t)}}function D(t){return N.apply(this,arguments)}function N(){return(N=Object(r.a)((function*(t){var e,{content:content,path:path,cid:n}=t,r=[],l=!1,c=!1;try{for(var d,f=Object(o.a)(content());l=!(d=yield f.next()).done;l=!1){var y=d.value;r.push(y)}}catch(t){c=!0,e=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(c)throw e}}var h=new S(r,I(path));return Object.assign(h,{cid:n.toString()})}))).apply(this,arguments)}function I(t){var e=t.indexOf("/");return-1===e?t:t.substring(e+1)}function T(){return(T=Object(d.a)((function*(t,e,n){var r=yield Object(c.a)(t(e,n));yield r;for(var link=w()(r.headers.get("Link")||"");link&&link.next;)r=yield Object(c.a)(t(e,link.next)),yield r,link=w()(r.headers.get("Link")||"")}))).apply(this,arguments)}var z=n(216),P=n(225),F=n(289);function B(t){return A.apply(this,arguments)}function A(){return(A=Object(r.a)((function*(t){var e,n=Object(F.create)({url:"https://dweb.link/api/v0"}),r=[],l=!1,c=!1;try{for(var d,f=Object(o.a)(n.ls(t));l=!(d=yield f.next()).done;l=!1){var link=d.value;r.push(link)}}catch(t){c=!0,e=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(c)throw e}}return console.log(r),r}))).apply(this,arguments)}function J(){return new U({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDZFMTE3RDc3YjYzNUFkMzU3OURFQUYxODUyZjE1NjBkYUFDZGE1NjIiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2MzA4MjI5MjQ3MzAsIm5hbWUiOiJEZUJveCJ9.J8JNPVrd94C0MSAiyavSbjKRQAYFEJQDkq36cwjNUZU"})}function $(t,e,n,r,o,l){return K.apply(this,arguments)}function K(){return(K=Object(r.a)((function*(t,e,caption,n,r,o){var l=P.a.generate(20),c={files:{},caption:caption,addresses:n},d=[];for(var f of Object.keys(t))c.files[t[f].file.name]=t[f].originalName,d.push(t[f].file);var y=Object(z.d)("metadata.json",c),h=new File([String(r)],"VERSION",{type:"text/plain"});d.push(h);var v=yield Object(P.c)(y,e,!0);d.push(v.file);var m=J();console.log("> ðŸ¤– calculating content ID for files");var w=d.map((t=>t.size)).reduce(((a,b)=>a+b),0),x=0;return yield m.put(d,{name:l,onRootCidReady:t=>{console.log("> ðŸ”‘ locally calculated Content ID: ".concat(t," ")),console.log("> ðŸ“¡ sending files to web3.storage ")},onStoredChunk:t=>{console.log("> ðŸ›° sent ".concat(t.toLocaleString()," bytes to web3.storage"));var e=100*(x+=t)/w;console.log("Uploading... ".concat(e.toFixed(2),"% complete")),o(Number(e.toFixed(1)))}})}))).apply(this,arguments)}function Q(t){return V.apply(this,arguments)}function V(){return(V=Object(r.a)((function*(t){var e=Object(z.e)(t,"metadata.json.enc"),n=yield fetch(e);if(!n.ok)throw new Error("error fetching image metadata: [".concat(n.status,"] ").concat(n.statusText));return yield n.blob()}))).apply(this,arguments)}function G(t){return Z.apply(this,arguments)}function Z(){return(Z=Object(r.a)((function*(t){var e=J(),n=yield e.status(t);return console.log(n),n}))).apply(this,arguments)}function X(t,e,n,r){return W.apply(this,arguments)}function W(){return(W=Object(r.a)((function*(t,e,n,r){var o=Object(z.e)(t,e),l=yield fetch(o),c=l.body.getReader(),d=l.headers.get("Content-Length");console.log(d);for(var f=0,y=[];;){var{done:h,value:v}=yield c.read();if(h)break;if(y.push(v),f+=v.length,n)n(r,f/d*100)}var m=new Uint8Array(f),w=0;for(var x of y)m.set(x,w),w+=x.length;return new Blob([m])}))).apply(this,arguments)}},290:function(t,e){},294:function(t,e){},299:function(t,e){},300:function(t,e){},317:function(t,e,n){"use strict";n.r(e);var r={},o=n(8),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"}})])}),[],!1,null,null,null);e.default=component.exports},325:function(t,e,n){"use strict";var r=n(12),o=n(27),l=n(129),c=n(5),d=n(26),f=n(84),y=n(131),h=n(18);if(r({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){l.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=f(this,d("Promise")),n="function"==typeof t;return this.then(n?function(n){return y(e,t()).then((function(){return n}))}:t,n?function(n){return y(e,t()).then((function(){throw n}))}:t)}}),!o&&"function"==typeof l){var v=d("Promise").prototype.finally;l.prototype.finally!==v&&h(l.prototype,"finally",v,{unsafe:!0})}},610:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(14),n(325),n(215),n(216)),l=n(254),c=n(225),d={data(){return{status:null,metadata:null,files:[],dKey:this.$route.query.key,showQR:!1,error:"",errorModal:"",loadingDetails:!1,saveText:"Save Link in My Files"}},mounted(){var t=this;return Object(r.a)((function*(){try{t.status=yield Object(l.a)(t.$route.params.cid),yield t.getFilesList()}catch(e){console.error(e),t.error='Unable to get status for CID: <br><span class="break-all text-red-600">'.concat(t.$route.params.cid,"</span><br> please make sure your url is correct.")}t.dKey&&t.getDetails()}))()},methods:{getDetails(){var t=this;return Object(r.a)((function*(){var e;t.loadingDetails=!0;try{e=yield Object(l.b)(t.$route.params.cid)}catch(e){t.error="Could not find metadata file."}try{yield t.decryptMetadata(e)}catch(e){t.errorModal="Unable to decrypt, please check if your key is correct."}t.loadingDetails=!1}))()},decryptMetadata(t){var e=this;return Object(r.a)((function*(){var n=yield Object(c.b)(t,e.dKey);console.log(n);var text=yield n.text();console.log(text),e.metadata=JSON.parse(text)}))()},getFilesList(){var t=this;return Object(r.a)((function*(){var e=yield Object(l.d)(t.$route.params.cid);t.files=e.filter((t=>!("metadata.json.enc"==t.name||"VERSION"==t.name)))}))()},resave(t,e){Object(o.f)(t,e)},downloadFile(t){this.$set(this.files[t],"progress",0),Object(l.c)(this.$route.params.cid,this.files[t].name,this.updateProgress,t).then((e=>{this.$set(this.files[t],"decrypting",!0),console.log(e),Object(c.b)(e,this.dKey).then((e=>{this.$set(this.files[t],"decrypted",e),Object(o.f)(e,this.metadata.files[this.files[t].name])})).finally((()=>{this.$set(this.files[t],"decrypting",!1)}))}))},updateProgress(t,progress){this.$set(this.files[t],"progress",Number(progress.toFixed(2)))},saveLink(){var t=localStorage.getItem("unfile-uploads");t&&(t=JSON.parse(t)||[]),t.unshift({caption:this.metadata.caption||"",link:window.location.pathname+"?key=".concat(this.dKey)}),localStorage.setItem("unfile-uploads",JSON.stringify(t)),this.saveText="Link Saved!"}},filters:{dateTime:t=>new Date(t).toLocaleString(),formatSize:t=>Object(o.c)(t)}},f=n(8),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"\n    md:py-12\n    px-4\n    sm:px-6\n    lg:px-8\n    relative\n    flex\n    items-center\n    justify-center\n    flex-1\n  "},[r("div",{staticClass:"max-w-screen-lg w-full p-10 bg-white rounded-xl z-10 shadow-xl"},[t.error?r("div",{staticClass:"text-center text-xl break-words",domProps:{innerHTML:t._s(t.error)}}):r("div",{staticClass:"flex flex-grow flex-wrap justify-around items-center"},[r("transition",{attrs:{"enter-active-class":"transition-all delay-1000 duration-1000 ease","leave-active-class":"transition-all duration-1000 ease","enter-class":"opacity-0 transform scale-0","enter-to-class":"opacity-100 transform scale-100","leave-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-0"}},[t.status&&t.metadata?r("div",{staticClass:"\n            sm:px-4\n            md:px-16\n            lg:px-24\n            w-full\n            space-y-2\n            mb-4\n            flex flex-wrap\n            items-center\n            justify-between\n          "},[r("p",{staticClass:"\n              text-green-500\n              font-semibold\n              text-xl\n              flex\n              items-center\n              justify-center\n            "},[t._v("\n            Key acceptedÂ "),r("CheckIcon",{staticClass:"w-5 h-5"})],1),t._v(" "),r("button",{staticClass:"\n              flex\n              justify-center\n              cursor-pointer\n              py-1\n              px-2\n              rounded-lg\n              bg-blue-500\n              text-gray-100\n              focus:outline-none\n              focus:shadow-outline\n              hover:bg-blue-600\n              shadow-lg\n              cursor-pointer\n              transition\n              ease-in\n              duration-300\n              text-sm\n            ",attrs:{disabled:"Link Saved!"==t.saveText},on:{click:t.saveLink}},[t._v("\n            "+t._s(t.saveText)+"\n          ")])]):t.status?r("form",{staticClass:"sm:px-4 md:px-16 lg:px-24 w-full space-y-2 mb-4",on:{submit:function(e){return e.preventDefault(),t.getDetails.apply(null,arguments)}}},[r("label",{staticClass:"text-sm font-bold text-gray-500 tracking-wide"},[t._v("Enter Decryption Key")]),t._v(" "),r("div",{staticClass:"flex items-center space-x-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.dKey,expression:"dKey"}],staticClass:"\n                text-base\n                p-2\n                border border-gray-300\n                rounded-lg\n                focus:outline-none\n                focus:border-indigo-500\n                outline-none\n                w-full\n              ",attrs:{type:"text",required:"",disabled:t.files.length<1},domProps:{value:t.dKey},on:{input:function(e){e.target.composing||(t.dKey=e.target.value)}}}),t._v(" "),r("div",{staticClass:"flex-shrink-0"},[t.loadingDetails?r("Spinner",{staticClass:"h-1 w-1"}):r("button",{staticClass:"\n                  w-full\n                  flex\n                  justify-center\n                  tracking-wide\n                  font-semibold\n                  cursor-pointer\n                  py-2\n                  px-4\n                  rounded-lg\n                ",class:t.files.length<1?"bg-gray-100 text-gray-400 cursor-not-allowed\tshadow":"bg-blue-500 text-gray-100 focus:outline-none focus:shadow-outline hover:bg-blue-600 shadow-lg cursor-pointer transition ease-in duration-300",attrs:{type:"submit",disabled:t.files.length<1}},[t._v("\n                ðŸ”‘Verify\n              ")])],1)])]):t._e()]),t._v(" "),r("transition",{attrs:{"enter-active-class":"transition-all delay-1000 duration-1000 ease","leave-active-class":"transition-all duration-1000 ease","enter-class":"opacity-0 transform scale-0","enter-to-class":"opacity-100 transform scale-100","leave-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-0"}},[t.status?r("div",{staticClass:"flex flex-col items-center self-start"},[r("table",{staticClass:"table-auto mt-5"},[r("tbody",[r("tr",{directives:[{name:"show",rawName:"v-show",value:t.files.length>0,expression:"files.length > 0"}]},[r("td",{staticClass:"text-right px-5 py-1"},[t._v("Files")]),t._v(" "),r("td",{staticClass:"text-left px-5 py-1"},[t._v("\n                  "+t._s(t.files.length.toLocaleString())+"\n                ")])]),t._v(" "),r("tr",[r("td",{staticClass:"text-right px-5 py-1"},[t._v("Total Size")]),t._v(" "),t.status.dagSize?r("td",{staticClass:"text-left px-5 py-1"},[t._v("\n                  "+t._s(t._f("formatSize")(t.status.dagSize))+"\n                ")]):r("td",{staticClass:"text-left px-5 py-1"},[t._v("N/A")])]),t._v(" "),r("tr",[r("td",{staticClass:"text-right px-5 py-1"},[t._v("Pins")]),t._v(" "),r("td",{staticClass:"text-left px-5 py-1"},[r("div",{staticClass:"\n                      rounded-full\n                      h-6\n                      w-6\n                      text-white\n                      font-bold\n                      text-center\n                      min-w-min\n                      px-1\n                    ",class:t.status.pins.length<1?"bg-red-500":"bg-green-400"},[t._v("\n                    "+t._s(t.status.pins.length)+"\n                  ")])])]),t._v(" "),r("tr",[r("td",{staticClass:"text-right px-5 py-1"},[t._v("Deals")]),t._v(" "),r("td",{staticClass:"text-left px-5 py-1"},[r("div",{staticClass:"\n                      rounded-full\n                      h-6\n                      w-6\n                      text-white\n                      font-bold\n                      text-center\n                      min-w-min\n                      px-1\n                    ",class:t.status.deals.length<1?"bg-red-500":"bg-green-400"},[t._v("\n                    "+t._s(t.status.deals.length)+"\n                  ")])])]),t._v(" "),r("tr",[r("td",{staticClass:"text-right px-5 py-1"},[t._v("Created at")]),t._v(" "),r("td",{staticClass:"text-left px-5 py-1"},[t._v("\n                  "+t._s(t._f("dateTime")(t.status.created))+"\n                ")])])])]),t._v(" "),t.metadata&&t.metadata.addresses.length>0?r("div",{staticClass:"flex justify-center items-center my-5"},[t._l(t.metadata.addresses,(function(address){return r("button",{key:address.currency,staticClass:"\n                my-3\n                border-2\n                px-3\n                py-2\n                rounded-lg\n                font-semibold\n                text-lg\n                focus:outline-none\n                focus:shadow-outline\n                hover:text-white\n                shadow-lg\n                cursor-pointer\n                transition\n                ease-in\n                duration-300\n                flex\n                justify-center\n                items-center\n                bg-white\n              ",class:"BTC"==address.currency?"border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:border-yellow-500":"xmrbtn",attrs:{title:"Send tip to the person who uploaded these files"},on:{click:function(e){t.showQR=address}}},[t._v("\n              Tip UploaderÂ "),r("span",{staticClass:"bg-white w-8 h-8 rounded-full border-2 border-white"},[r("img",{attrs:{src:n(190)("./"+address.currency+".svg")}})])])})),t._v(" "),t.showQR?r("PaymentModal",{attrs:{address:t.showQR.address,currency:t.showQR.currency},on:{close:function(e){t.showQR=!1}}}):t._e()],2):t._e()]):t._e()]),t._v(" "),r("transition",{attrs:{"enter-active-class":"transition-all delay-1000 duration-1000 ease","leave-active-class":"transition-all duration-1000 ease","enter-class":"opacity-0 transform scale-0","enter-to-class":"opacity-100 transform scale-100","leave-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-0"}},[t.status?t._e():r("div",{staticClass:"flex flex-col justify-center items-center"},[r("h1",{staticClass:"text-center mb-3 text-lg text-gray-600 font-semibold"},[t._v("\n            Finding your files..\n          ")]),t._v(" "),r("Spinner")],1)]),t._v(" "),r("transition",{attrs:{"enter-active-class":"transition-all delay-1000 duration-1000 ease","leave-active-class":"transition-all duration-1000 ease","enter-class":"opacity-0 transform scale-0","enter-to-class":"opacity-100 transform scale-100","leave-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-0"}},[t.files.length>0?r("div",{staticClass:"self-start mt-5",class:{"flex-1":t.metadata}},[t.metadata?r("h1",{staticClass:"text-lg font-bold text-center text-gray-600 mb-3"},[t._v("\n            "+t._s(t.metadata.caption)+"\n          ")]):t._e(),t._v(" "),t._l(t.files,(function(e,i){return r("div",{key:i,staticClass:"flex flex-col"},[r("div",{staticClass:"flex items-center flex-wrap"},[r("div",{staticClass:"flex flex-col flex-1 mx-3"},[r("h1",{staticClass:"w-full break-all font-semibold text-sm"},[t._v("\n                  "+t._s(t.metadata&&t.metadata.files?t.metadata.files[e.name]:e.name)+"\n                ")]),t._v(" "),r("p",{staticClass:"text-sm whitespace-nowrap text-gray-500"},[t._v("\n                  "+t._s(t._f("formatSize")(e.size))+"\n                ")])]),t._v(" "),r("div",[t.metadata?t.metadata&&null==e.progress?r("button",{staticClass:"\n                    w-full\n                    bg-blue-500\n                    text-gray-100\n                    tracking-wide\n                    font-semibold\n                    focus:outline-none\n                    focus:shadow-outline\n                    hover:bg-blue-600\n                    shadow-lg\n                    cursor-pointer\n                    transition\n                    ease-in\n                    duration-300\n                    py-1\n                    px-2\n                    rounded-md\n                    text-xs\n                  ",on:{click:function(e){return t.downloadFile(i)}}},[t._v("\n                  Download\n                ")]):t._e():r("SolidLockIcon",{staticClass:"h-6 w-6 text-gray-400 min-w-min"})],1)]),t._v(" "),r("div",{staticClass:"flex items-center"},[r("ProgressBar",{directives:[{name:"show",rawName:"v-show",value:null!=e.progress,expression:"f.progress != null"}],staticClass:"mx-3",attrs:{pct:e.progress}}),100==e.progress&&Boolean(e.decrypted)?r("button",{staticClass:"\n                  text-blue-500\n                  tracking-wide\n                  font-semibold\n                  border-2 border-blue-500\n                  hover:bg-blue-500\n                  hover:text-white\n                  cursor-pointer\n                  py-1\n                  px-2\n                  rounded-md\n                  text-xs\n                  whitespace-nowrap\n                ",on:{click:function(n){return t.resave(e.decrypted,t.metadata.files[e.name])}}},[t._v("\n                Re-Save\n              ")]):t.metadata&&Boolean(e.decrypting)?r("Spinner",{staticClass:"h-1 w-1"}):t._e()],1)])}))],2):t.status&&t.files.length<1?r("Spinner",{staticClass:"flex-1"}):t._e()],1)],1),t._v(" "),r("Modal",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],attrs:{message:t.errorModal},on:{ok:function(e){t.errorModal=""}}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CheckIcon:n(317).default,Spinner:n(128).default,PaymentModal:n(213).default,SolidLockIcon:n(238).default,ProgressBar:n(214).default,Modal:n(226).default})}}]);